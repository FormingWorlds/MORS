{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":""},{"location":"#model-for-rotation-of-stars-mors","title":"MODEL FOR ROTATION OF STARS (MORS)","text":"<p>This code is distributed as a python package for the purpose of the PROTEUS framework, a coupled simulation tool for the long-term evolution of atmospheres and interiors of rocky planets. The MORS package solves specifically the stellar rotation and evolution. It is based on the original code and model developed by Colin P. Johnstone.</p> <p>Original Author: Colin P. Johnstone</p> <p>This code solves the stellar rotation and XUV evolution model presented in Johnstone et al. (2021). The package can be used to calculate evolutionary tracks for stellar rotaton and X-ray, EUV, and Ly-alpha emission for stars with masses between 0.1 and 1.25 Msun and has additional functionality such as allowing the user to get basic stellar parameters such as stellar radius and luminosity as functions of mass and age using the stellar evolution models of Spada et al. (2013). When publishing results that were calculated using this code, both the Johnstone et al. (2020) paper and Spada et al. (2013) should be cited.</p> <p>NOTE: This version contains the fix for the error in the equation converting EUV1 to EUV2.</p>"},{"location":"#contributors","title":"Contributors","text":"Name Email address Colin P. Johnstone colinjohnstone@gmail.com Laurent Soucasse l.soucasse@esciencecenter.nl Harrison Nicholls harrison.nicholls@physics.ox.ac.uk Stef Smeets s.smeets@esciencecenter.nl Tim Lichtenberg tim.lichtenberg@rug.nl Karen Stuitje e.k.e.stuitje@student.rug.nl"},{"location":"CODE_OF_CONDUCT/","title":"Contributor Covenant Code of Conduct","text":""},{"location":"CODE_OF_CONDUCT/#our-pledge","title":"Our Pledge","text":"<p>We as members, contributors, and leaders pledge to make participation in our community a harassment-free experience for everyone, regardless of age, body size, visible or invisible disability, ethnicity, sex characteristics, gender identity and expression, level of experience, education, socio-economic status, nationality, personal appearance, race, religion, or sexual identity and orientation.</p> <p>We pledge to act and interact in ways that contribute to an open, welcoming, diverse, inclusive, and healthy community.</p>"},{"location":"CODE_OF_CONDUCT/#our-standards","title":"Our Standards","text":"<p>Examples of behavior that contributes to a positive environment for our community include:</p> <ul> <li>Demonstrating empathy and kindness toward other people</li> <li>Being respectful of differing opinions, viewpoints, and experiences</li> <li>Giving and gracefully accepting constructive feedback</li> <li>Accepting responsibility and apologizing to those affected by our mistakes,   and learning from the experience</li> <li>Focusing on what is best not just for us as individuals, but for the   overall community</li> </ul> <p>Examples of unacceptable behavior include:</p> <ul> <li>The use of sexualized language or imagery, and sexual attention or   advances of any kind</li> <li>Trolling, insulting or derogatory comments, and personal or political attacks</li> <li>Public or private harassment</li> <li>Publishing others' private information, such as a physical or email   address, without their explicit permission</li> <li>Other conduct which could reasonably be considered inappropriate in a   professional setting</li> </ul>"},{"location":"CODE_OF_CONDUCT/#enforcement-responsibilities","title":"Enforcement Responsibilities","text":"<p>Community leaders are responsible for clarifying and enforcing our standards of acceptable behavior and will take appropriate and fair corrective action in response to any behavior that they deem inappropriate, threatening, offensive, or harmful.</p> <p>Community leaders have the right and responsibility to remove, edit, or reject comments, commits, code, wiki edits, issues, and other contributions that are not aligned to this Code of Conduct, and will communicate reasons for moderation decisions when appropriate.</p>"},{"location":"CODE_OF_CONDUCT/#scope","title":"Scope","text":"<p>This Code of Conduct applies within all community spaces, and also applies when an individual is officially representing the community in public spaces. Examples of representing our community include using an official e-mail address, posting via an official social media account, or acting as an appointed representative at an online or offline event.</p>"},{"location":"CODE_OF_CONDUCT/#enforcement","title":"Enforcement","text":"<p>Instances of abusive, harassing, or otherwise unacceptable behavior may be reported to the community leaders responsible for enforcement at contact@formingworlds.space. All complaints will be reviewed and investigated promptly and fairly.</p> <p>All community leaders are obligated to respect the privacy and security of the reporter of any incident.</p>"},{"location":"CODE_OF_CONDUCT/#enforcement-guidelines","title":"Enforcement Guidelines","text":"<p>Community leaders will follow these Community Impact Guidelines in determining the consequences for any action they deem in violation of this Code of Conduct:</p>"},{"location":"CODE_OF_CONDUCT/#1-correction","title":"1. Correction","text":"<p>Community Impact: Use of inappropriate language or other behavior deemed unprofessional or unwelcome in the community.</p> <p>Consequence: A private, written warning from community leaders, providing clarity around the nature of the violation and an explanation of why the behavior was inappropriate. A public apology may be requested.</p>"},{"location":"CODE_OF_CONDUCT/#2-warning","title":"2. Warning","text":"<p>Community Impact: A violation through a single incident or series of actions.</p> <p>Consequence: A warning with consequences for continued behavior. No interaction with the people involved, including unsolicited interaction with those enforcing the Code of Conduct, for a specified period of time. This includes avoiding interactions in community spaces as well as external channels like social media. Violating these terms may lead to a temporary or permanent ban.</p>"},{"location":"CODE_OF_CONDUCT/#3-temporary-ban","title":"3. Temporary Ban","text":"<p>Community Impact: A serious violation of community standards, including sustained inappropriate behavior.</p> <p>Consequence: A temporary ban from any sort of interaction or public communication with the community for a specified period of time. No public or private interaction with the people involved, including unsolicited interaction with those enforcing the Code of Conduct, is allowed during this period. Violating these terms may lead to a permanent ban.</p>"},{"location":"CODE_OF_CONDUCT/#4-permanent-ban","title":"4. Permanent Ban","text":"<p>Community Impact: Demonstrating a pattern of violation of community standards, including sustained inappropriate behavior,  harassment of an individual, or aggression toward or disparagement of classes of individuals.</p> <p>Consequence: A permanent ban from any sort of public interaction within the community.</p>"},{"location":"CODE_OF_CONDUCT/#attribution","title":"Attribution","text":"<p>This Code of Conduct is adapted from the Contributor Covenant, version 2.0, available at https://www.contributor-covenant.org/version/2/0/code_of_conduct.html.</p> <p>Community Impact Guidelines were inspired by Mozilla's code of conduct enforcement ladder.</p> <p>For answers to common questions about this code of conduct, see the FAQ at https://www.contributor-covenant.org/faq. Translations are available at https://www.contributor-covenant.org/translations.</p>"},{"location":"CONTRIBUTING/","title":"Contributing guidelines","text":""},{"location":"CONTRIBUTING/#building-the-documentation","title":"Building the documentation","text":"<p>The documentation is written in markdown, and uses mkdocs to generate the pages.</p> <p>To build the documentation for yourself:</p> <pre><code>pip install -e .[docs]\nmkdocs serve\n</code></pre> <p>You can find the documentation source in the docs directory. If you are adding new pages, make sure to update the listing in the <code>mkdocs.yml</code> under the <code>nav</code> entry.</p> <p>The documentation is hosted on PROTEUS Framework.</p>"},{"location":"CONTRIBUTING/#running-tests","title":"Running tests","text":"<p>MORS uses pytest to run the tests. You can run the tests for yourself using:</p> <pre><code>pytest\n</code></pre> <p>To check coverage:</p> <pre><code>coverage run -m pytest\ncoverage report  # to output to terminal\ncoverage html    # to generate html report\n</code></pre>"},{"location":"CONTRIBUTING/#making-a-release","title":"Making a release","text":"<p>The versioning scheme we use is CalVer.</p> <ol> <li>Update requirements files:</li> </ol> <pre><code>python tools/generate_requirements_txt.py\npip-compile -o requirements_full.txt pyproject.toml\n</code></pre> <ol> <li>Bump the version (<code>release</code>/<code>patch</code>) as needed</li> </ol> <pre><code>bump-my-version bump release\n# 24.7.11\n</code></pre> <ol> <li> <p>Commit and push your changes.</p> </li> <li> <p>Make a new release. Make sure to set the tag to the specified version, e.g. <code>24.7.11</code>.</p> </li> <li> <p>The upload to pypi is triggered when a release is published and handled by this workflow.</p> </li> </ol>"},{"location":"How-to/","title":"How-to guides","text":"<p>Welcome to the how-to guides for MORS. These are task-focused recipes for common MORS workflows.</p> <ol> <li>(Developer) installation</li> <li>Calculate a star's evolution</li> <li>Calculate a cluster's evolution</li> <li>Using model percentiles for initial rotation</li> <li>Setting custom simulation parameters</li> <li>Find stellar rotation and activity quantities</li> <li>Find stellar quantities with stellar evolution tracks</li> <li>Find habitable zone boundaries</li> <li>Find stellar activity timelines</li> </ol>"},{"location":"How-to/activity_quantities/","title":"Find stellar rotation and activity quantities","text":""},{"location":"How-to/activity_quantities/#rotation-and-activity-quantities-how-to","title":"Rotation and activity quantities (How-to)","text":""},{"location":"How-to/activity_quantities/#goal","title":"Goal","text":"<p>Compute high-energy emission quantities (X-ray, EUV, Ly-\u03b1) from stellar mass, age, and rotation, optionally add variability/scatter, and (if needed) retrieve a larger set of model diagnostics via <code>ExtendedQuantities</code>.</p>"},{"location":"How-to/activity_quantities/#prerequisites","title":"Prerequisites","text":"<p>Install MORS and download the required stellar evolution data:</p> <pre><code>pip install fwl-mors\nmors download all\n</code></pre> <p>Units: <code>Mstar</code> in M\u2609, <code>Age</code> in Myr, <code>Prot</code> in days, <code>Omega</code> in \u03a9\u2609. Luminosities are in erg s\u207b\u00b9 and surface fluxes in erg s\u207b\u00b9 cm\u207b\u00b2.</p>"},{"location":"How-to/activity_quantities/#step-1-get-the-full-xuv-dictionary-lxuv","title":"Step 1: Get the full XUV dictionary (<code>Lxuv</code>)","text":"<p>Use <code>Omega</code> (or <code>OmegaEnv</code>) or <code>Prot</code> to specify the surface rotation.</p> <p>Using \u03a9 (\u03a9\u2609): <pre><code>import mors\nxuv = mors.Lxuv(Mstar=1.0, Age=5000.0, Omega=10.0)\n</code></pre></p> <p>Using rotation period (days): <pre><code>import mors\nxuv = mors.Lxuv(Mstar=1.0, Age=5000.0, Prot=1.0)\n</code></pre></p> <p>The returned dictionary includes luminosities, surface fluxes, and bolometric-normalized values, e.g.: - Luminosities: <code>Lxuv</code>, <code>Lx</code>, <code>Leuv1</code>, <code>Leuv2</code>, <code>Leuv</code>, <code>Lly</code>  (erg s\u207b\u00b9) - Fluxes: <code>Fxuv</code>, <code>Fx</code>, <code>Feuv1</code>, ... (erg s\u207b\u00b9 cm\u207b\u00b2) - Normalized: <code>Rxuv</code>, <code>Rx</code>, <code>Reuv1</code>, ... (dimensionless)</p> <p>To see what keys are present: <pre><code>print(sorted(xuv.keys()))\n</code></pre></p>"},{"location":"How-to/activity_quantities/#step-2-retrieve-a-single-quantity-directly-lx-leuv-lly","title":"Step 2: Retrieve a single quantity directly (<code>Lx</code>, <code>Leuv</code>, <code>Lly</code>)","text":"<pre><code>import mors\n\nLx  = mors.Lx(Mstar=1.0, Age=5000.0, Omega=10.0)\nLeu = mors.Leuv(Mstar=1.0, Age=5000.0, Omega=10.0)\nLly = mors.Lly(Mstar=1.0, Age=5000.0, Omega=10.0)\n</code></pre>"},{"location":"How-to/activity_quantities/#choose-an-euv-sub-band-with-band","title":"Choose an EUV sub-band with <code>band</code>","text":"<p><code>Leuv(..., band=...)</code> supports: - <code>band=0</code> \u2192 10\u201392 nm (total EUV) - <code>band=1</code> \u2192 10\u201336 nm (EUV1) - <code>band=2</code> \u2192 36\u201392 nm (EUV2)</p> <pre><code>import mors\nLeuv_total = mors.Leuv(Mstar=1.0, Age=5000.0, Omega=10.0, band=0)\nLeuv1      = mors.Leuv(Mstar=1.0, Age=5000.0, Omega=10.0, band=1)\nLeuv2      = mors.Leuv(Mstar=1.0, Age=5000.0, Omega=10.0, band=2)\n</code></pre>"},{"location":"How-to/activity_quantities/#step-3-add-variabilityscatter-optional","title":"Step 3: Add variability/scatter (optional)","text":"<p>MORS provides random scatter terms intended to represent variability as a log-normal scatter.</p>"},{"location":"How-to/activity_quantities/#x-ray-scatter-xrayscatter","title":"X-ray scatter (<code>XrayScatter</code>)","text":"<p>You pass the mean value (e.g., <code>Lx</code>) and get a delta to add: <pre><code>import mors\n\nLx = mors.Lx(Mstar=1.0, Age=5000.0, Omega=10.0)\ndLx = mors.XrayScatter(Lx)\n\nLx_scattered = Lx + dLx\n</code></pre></p> <p>You can also pass <code>Fx</code> or <code>Rx</code> and receive <code>dFx</code> / <code>dRx</code>.</p>"},{"location":"How-to/activity_quantities/#full-xuv-scatter-xuvscatter","title":"Full XUV scatter (<code>XUVScatter</code>)","text":"<p><code>XUVScatter</code> takes the dictionary from <code>Lxuv</code> and returns a dictionary of deltas with the same keys: <pre><code>import mors\n\nxuv  = mors.Lxuv(Mstar=1.0, Age=5000.0, Omega=10.0)\ndxuv = mors.XUVScatter(xuv)\n\n# Example: apply deltas to get one scattered realization\nxuv_scattered = {k: xuv[k] + dxuv[k] for k in xuv}\n</code></pre></p> <p>Controlling the scatter width: the X-ray scatter width is controlled by <code>sigmaXray</code> in the parameters file. You can override it by passing a custom <code>params</code> dictionary (see the parameter how-to):</p> <p><pre><code>import mors\n\nparams = mors.NewParams(sigmaXray=0.3)  # example value\nLx = mors.Lx(Mstar=1.0, Age=5000.0, Omega=10.0, params=params)\ndLx = mors.XrayScatter(Lx, params=params) if \"params\" in mors.XrayScatter.__code__.co_varnames else mors.XrayScatter(Lx)\n</code></pre> (If <code>XrayScatter</code> does not accept <code>params</code> directly, set <code>sigmaXray</code> via your model run parameters and use it consistently.)</p>"},{"location":"How-to/activity_quantities/#step-4-get-detailed-diagnostics-extendedquantities","title":"Step 4: Get detailed diagnostics (<code>ExtendedQuantities</code>)","text":"<p>If you need additional model internals (stellar properties, wind quantities, magnetic fields, torques), call <code>ExtendedQuantities</code> with envelope and core rotation rates:</p> <pre><code>import mors\n\nq = mors.ExtendedQuantities(Mstar=1.0, Age=5000.0, OmegaEnv=10.0, OmegaCore=10.0)\nprint(list(q))\n</code></pre>"},{"location":"How-to/activity_quantities/#common-pitfalls","title":"Common pitfalls","text":"<ul> <li>Don\u2019t mix <code>Omega</code> (\u03a9\u2609) and <code>Prot</code> (days) in the same call; pick one rotation representation.</li> <li>Scatter functions are random; results differ each run unless you control the random seed in your workflow.</li> <li><code>ExtendedQuantities</code> requires both <code>OmegaEnv</code> and <code>OmegaCore</code>.</li> </ul>"},{"location":"How-to/activity_timelines/","title":"Find stellar activity timelines","text":""},{"location":"How-to/activity_timelines/#activity-timelines-how-to","title":"Activity timelines (How-to)","text":""},{"location":"How-to/activity_timelines/#goal","title":"Goal","text":"<p>Compute how long a star (or a cluster of stars) stays above an activity threshold (e.g., X-ray luminosity) or how long it remains in the saturated regime.</p>"},{"location":"How-to/activity_timelines/#prerequisites","title":"Prerequisites","text":"<p>Install MORS and download stellar evolution data:</p> <pre><code>pip install fwl-mors\nmors download all\n</code></pre> <p>Units: thresholds must match the quantity you use (e.g., <code>Lx</code> in erg s\u207b\u00b9). Ages returned are in Myr.</p>"},{"location":"How-to/activity_timelines/#compute-activity-threshold","title":"Compute activity threshold","text":""},{"location":"How-to/activity_timelines/#option-1-use-the-standalone-helper-on-an-explicit-track-basic","title":"Option 1: Use the standalone helper on an explicit track (basic)","text":"<p><code>mors.ActivityLifetime</code> takes an age array and a track array and returns the age when the track finally drops below the threshold.</p> <pre><code>import mors\n\nAgeThreshold = mors.ActivityLifetime(\n    Age=star.AgeTrack,\n    Track=star.LxTrack,\n    Threshold=1.0e28\n)\nprint(AgeThreshold)\n</code></pre> <p>Behavior: - If the track crosses the threshold multiple times \u2192 returns the final crossing time. - If it never goes below the threshold \u2192 returns the final age in the track. - If it is never above the threshold \u2192 returns <code>0.0</code>.</p> <p>Optional: limit the search to ages below <code>AgeMax</code>.</p>"},{"location":"How-to/activity_timelines/#option-2-prefer-the-staractivitylifetime-method-recommended","title":"Option 2: Prefer the <code>Star.ActivityLifetime</code> method (recommended)","text":"<p>This version selects the track internally; you only provide the quantity name and threshold.</p> <pre><code>AgeThreshold = star.ActivityLifetime(Quantity=\"Lx\", Threshold=1.0e28)\nprint(AgeThreshold)\n</code></pre> <p>You can also set a maximum age to consider:</p> <pre><code>AgeThreshold = star.ActivityLifetime(Quantity=\"Lx\", Threshold=1.0e28, AgeMax=1000.0)\n</code></pre> <p>Note: The <code>Quantity</code> string must match one of the supported activity tracks:</p> <ul> <li><code>Lx</code>, <code>Fx</code>, <code>Rx</code>, <code>FxHZ</code></li> <li><code>Leuv1</code>, <code>Feuv1</code>, <code>Reuv1</code>, <code>Feuv1HZ</code></li> <li><code>Leuv2</code>, <code>Feuv2</code>, <code>Reuv2</code>, <code>Feuv2HZ</code></li> <li><code>Leuv</code>, <code>Feuv</code>, <code>Reuv</code>, <code>FeuvHZ</code></li> <li><code>Lly</code>, <code>Fly</code>, <code>Rly</code>, <code>FlyHZ</code></li> </ul>"},{"location":"How-to/activity_timelines/#compute-cluster-lifetimes-same-interface-returns-arrays","title":"Compute cluster lifetimes (same interface, returns arrays)","text":"<p>For a <code>mors.Cluster</code>, the call is the same but returns one value per star:</p> <pre><code>AgeThreshold = cluster.ActivityLifetime(Quantity=\"Lx\", Threshold=1.0e28)\nprint(AgeThreshold)  # numpy array\n</code></pre>"},{"location":"How-to/activity_timelines/#compute-saturation-lifetime","title":"Compute saturation lifetime","text":"<p>To get the time the star remains in the saturated regime, pass <code>Threshold=\"sat\"</code>:</p> <pre><code>AgeSaturated = star.ActivityLifetime(Quantity=\"Lx\", Threshold=\"sat\")\nprint(AgeSaturated)\n</code></pre> <p>Note: the choice of <code>Quantity</code> should not change the saturation lifetime (XUV quantities saturate together), but it must be a valid option.</p>"},{"location":"How-to/activity_timelines/#common-pitfalls","title":"Common pitfalls","text":"<ul> <li>Make sure your <code>Threshold</code> uses the same units as the chosen <code>Quantity</code> (e.g., <code>Lx</code> is erg s\u207b\u00b9).</li> <li>The function returns the final threshold crossing time if there are multiple crossings.</li> </ul>"},{"location":"How-to/clusters/","title":"Calculate cluster evolution","text":""},{"location":"How-to/clusters/#cluster-evolution-calculation-how-to","title":"Cluster evolution calculation (How-to)","text":""},{"location":"How-to/clusters/#goal","title":"Goal","text":"<p>Compute rotation/activity evolution tracks for a cluster of stars, then (a) inspect per-star tracks, (b) evaluate cluster distributions at a given age, and (c) save/reload the cluster to avoid recomputation.</p>"},{"location":"How-to/clusters/#prerequisites","title":"Prerequisites","text":"<p>Install MORS and download stellar evolution data:</p> <pre><code>pip install fwl-mors\nmors download all\n</code></pre> <p>Units: <code>Mstar</code> in M\u2609, <code>Age</code> in Myr, <code>Prot</code> in days, <code>Omega</code> in \u03a9\u2609.</p>"},{"location":"How-to/clusters/#step-1-create-a-cluster-from-arrays","title":"Step 1 \u2014 Create a cluster from arrays","text":"<p>Create arrays/lists of masses and rotation rates (same length). If <code>Age</code> is omitted, MORS interprets <code>Omega</code> as the initial (~1 Myr) rotation rate.</p> <pre><code>import numpy as np\nimport mors\n\nMstar = np.array([1.0, 0.5, 0.75])\nOmega = np.array([10.0, 10.0, 10.0])\n\ncluster = mors.Cluster(Mstar=Mstar, Omega=Omega)\n</code></pre> <p>To show progress while tracks are computed, enable <code>verbose</code>:</p> <pre><code>cluster = mors.Cluster(Mstar=Mstar, Omega=Omega, verbose=True)\n</code></pre>"},{"location":"How-to/clusters/#step-2-fit-tracks-through-a-specified-age-optional","title":"Step 2 \u2014 Fit tracks through a specified age (optional)","text":"<p>If you provide <code>Age</code>, MORS fits tracks so that each star passes through the given rotation rate at that age.</p> <p>One age applied to all stars <pre><code>import numpy as np\nimport mors\n\nMstar = np.array([1.0, 0.5, 0.75])\nOmega = np.array([50.0, 30.0, 40.0])\n\ncluster = mors.Cluster(Mstar=Mstar, Omega=Omega, Age=100.0)  # Myr\n</code></pre></p> <p>Different ages for each star <pre><code>import numpy as np\nimport mors\n\nMstar = np.array([1.0, 0.5, 0.75])\nOmega = np.array([50.0, 30.0, 40.0])\nAge   = np.array([80.0, 120.0, 100.0])  # Myr; same length as Mstar/Omega\n\ncluster = mors.Cluster(Mstar=Mstar, Omega=Omega, Age=Age)\n</code></pre></p>"},{"location":"How-to/clusters/#step-3-access-per-star-tracks","title":"Step 3 \u2014 Access per-star tracks","text":"<p>Each star is a <code>mors.Star</code> instance stored in <code>cluster.stars</code>.</p> <pre><code>import matplotlib.pyplot as plt\n\nplt.plot(cluster.stars[0].AgeTrack, cluster.stars[0].LxTrack)\nplt.plot(cluster.stars[1].AgeTrack, cluster.stars[1].LxTrack)\nplt.plot(cluster.stars[2].AgeTrack, cluster.stars[2].LxTrack)\nplt.show()\n</code></pre> <p>Some versions also expose <code>stars0</code>, <code>stars1</code>, ... as attributes:</p> <pre><code>plt.plot(cluster.stars0.AgeTrack, cluster.stars0.LxTrack)\n</code></pre>"},{"location":"How-to/clusters/#step-4-get-cluster-values-at-a-fixed-age","title":"Step 4 \u2014 Get cluster values at a fixed age","text":"<p>Use <code>Values(Age=..., Quantity=...)</code> to retrieve an array across the cluster:</p> <pre><code>Lx = cluster.Values(Age=100.0, Quantity=\"Lx\")\n</code></pre> <p>Or use the convenience method named after the quantity:</p> <pre><code>Lx = cluster.Lx(100.0)\n</code></pre> <p>Plot a distribution (e.g., Lx vs mass) at a given age:</p> <pre><code>import matplotlib.pyplot as plt\nplt.scatter(cluster.Mstar, cluster.Lx(100.0))\nplt.xlabel(\"Mstar [Msun]\")\nplt.ylabel(\"Lx [erg/s]\")\nplt.show()\n</code></pre>"},{"location":"How-to/clusters/#step-5-save-and-reload-recommended-for-large-clusters","title":"Step 5 \u2014 Save and reload (recommended for large clusters)","text":"<p>Cluster calculations can be expensive for many stars, so saving is recommended.</p> <pre><code>cluster.Save(filename=\"cluster.pickle\")\ncluster2 = mors.Load(\"cluster.pickle\")\n</code></pre>"},{"location":"How-to/clusters/#step-6-evolve-the-built-in-model-cluster-optional","title":"Step 6 \u2014 Evolve the built-in \u201cmodel cluster\u201d (optional)","text":"<p>MORS includes a composite \u201cmodel cluster\u201d distribution (derived from observed clusters at ~150 Myr evolved back to 1 Myr). You can load it and evolve it like any other cluster:</p> <pre><code>import mors\n\nMstar, Omega = mors.ModelCluster()\ncluster = mors.Cluster(Mstar=Mstar, Omega=Omega)\n</code></pre> <p>Citation note: If you use this model cluster distribution in research, cite the rotation-measurement sources listed in Johnstone et al. (2020), Table 1 (150 Myr bin), in addition to the MORS model paper(s).</p>"},{"location":"How-to/clusters/#common-pitfalls","title":"Common pitfalls","text":"<ul> <li>Arrays for <code>Mstar</code>, <code>Omega</code> (and <code>Age</code> if provided) must have matching lengths.</li> <li><code>Age</code> is in Myr; <code>Omega</code> is in \u03a9\u2609.</li> <li>Fitting tracks using <code>Age</code> + <code>Omega</code> can be unreliable at late ages where tracks converge.</li> </ul>"},{"location":"How-to/distribution_percentile/","title":"Model distribution and percentiles (How-to)","text":""},{"location":"How-to/distribution_percentile/#goal","title":"Goal","text":"<p>Pick an initial rotation rate from the built-in model rotation distribution (Johnstone et al. 2020), inspect a star\u2019s inferred percentile, and convert between rotation rate and percentile for a given stellar mass.</p>"},{"location":"How-to/distribution_percentile/#prerequisites","title":"Prerequisites","text":"<p>Make sure MORS and the stellar evolution data are installed:</p> <pre><code>pip install fwl-mors\nmors download all\n</code></pre> <p>Units: <code>Omega</code> is in units of the current solar rotation rate (\u03a9\u2609). <code>Prot</code> is in days. <code>Mstar</code> is in M\u2609.</p>"},{"location":"How-to/distribution_percentile/#step-1-get-the-built-in-model-cluster-distribution","title":"Step 1: Get the built-in \u201cmodel cluster\u201d distribution","text":"<p>This returns arrays of stellar masses and their 1 Myr rotation rates (derived by evolving observed cluster distributions back to 1 Myr).</p> <pre><code>import mors\n\nMstar_dist, Omega_dist = mors.ModelCluster()\nprint(Mstar_dist.shape, Omega_dist.shape)\n</code></pre> <p>Citation note: If you use the model cluster distribution directly in research, cite the rotation-measurement sources listed in Johnstone et al. (2020), Table 1 (150 Myr bin), in addition to the MORS model paper(s).</p>"},{"location":"How-to/distribution_percentile/#step-2-create-a-star-by-percentile","title":"Step 2: Create a star by percentile","text":"<p>You can set initial rotation using a numeric percentile (0\u2013100) or the strings <code>'slow'</code>, <code>'medium'</code>, <code>'fast'</code> which map to 5th/50th/95th percentiles.</p> <pre><code>import mors\n\n# numeric percentile\nstar_p5 = mors.Star(Mstar=1.0, percentile=5.0)\n\n# equivalent string shortcut\nstar_slow = mors.Star(Mstar=1.0, percentile=\"slow\")\n</code></pre>"},{"location":"How-to/distribution_percentile/#step-3-read-back-the-stars-inferred-percentile","title":"Step 3: Read back the star\u2019s inferred percentile","text":"<p>Regardless of how you create the star (Omega/Prot/percentile), MORS stores the inferred percentile after computing tracks:</p> <pre><code>print(star_slow.percentile)\n</code></pre>"},{"location":"How-to/distribution_percentile/#step-4-convert-a-rotation-rate-or-prot-to-a-percentile","title":"Step 4: Convert a rotation rate (\u03a9 or Prot) to a percentile","text":"<p>From \u03a9 (\u03a9\u2609) to percentile <pre><code>import mors\np = mors.Percentile(Mstar=1.0, Omega=10.0)\nprint(p)\n</code></pre></p> <p>From Prot (days) to percentile <pre><code>import mors\np = mors.Percentile(Mstar=1.0, Prot=1.0)\nprint(p)\n</code></pre></p>"},{"location":"How-to/distribution_percentile/#step-5-convert-a-percentile-to-a-rotation-rate","title":"Step 5: Convert a percentile to a rotation rate","text":"<pre><code>import mors\nOmega_p10 = mors.Percentile(Mstar=1.0, percentile=10.0)  # returns \u03a9 in \u03a9\u2609\nprint(Omega_p10)\n</code></pre>"},{"location":"How-to/distribution_percentile/#step-6-control-the-mass-window-used-for-percentiles-dmstarper","title":"Step 6: Control the mass window used for percentiles (<code>dMstarPer</code>)","text":"<p>Percentiles are computed using stars within a mass window around <code>Mstar</code>. The width is controlled by <code>dMstarPer</code> (default: 0.1 M\u2609). To change it, modify parameters and pass them into <code>Star</code>:</p> <pre><code>import mors\n\nparams = mors.NewParams(dMstarPer=0.05)\nstar = mors.Star(Mstar=1.0, percentile=\"medium\", params=params)\n</code></pre>"},{"location":"How-to/distribution_percentile/#step-7-use-a-custom-rotation-distribution-optional","title":"Step 7: Use a custom rotation distribution (optional)","text":"<p>If you have your own mass+rotation distribution (instead of the built-in 1 Myr model distribution), pass it into <code>Percentile</code>.</p> <p>Using \u03a9 distribution <pre><code>import numpy as np\nimport mors\n\nMstarDist = np.array([1.0, 1.0, 1.0, 0.9, 1.1])\nOmegaDist = np.array([2.0, 5.0, 10.0, 3.0, 7.0])\n\np = mors.Percentile(Mstar=1.0, Omega=6.0, MstarDist=MstarDist, OmegaDist=OmegaDist)\nprint(p)\n</code></pre></p> <p>Using Prot distribution <pre><code>import numpy as np\nimport mors\n\nMstarDist = np.array([1.0, 1.0, 0.9, 1.1])\nProtDist  = np.array([12.0, 6.0, 9.0, 7.0])  # days\n\np = mors.Percentile(Mstar=1.0, Prot=8.0, MstarDist=MstarDist, ProtDist=ProtDist)\nprint(p)\n</code></pre></p>"},{"location":"How-to/distribution_percentile/#common-pitfalls","title":"Common pitfalls","text":"<ul> <li>Percentiles here refer to the initial (~1 Myr) distribution used by the model cluster.</li> <li><code>Omega</code> is \u03a9\u2609, not rad/s. <code>Prot</code> is days.</li> <li>If your custom distribution is sparse or covers a narrow mass range, percentile estimates can become unstable.</li> </ul>"},{"location":"How-to/evolution/","title":"Calculate stellar evolution","text":""},{"location":"How-to/evolution/#evolutionary-calculations-how-to","title":"Evolutionary calculations (How-to)","text":""},{"location":"How-to/evolution/#goal","title":"Goal","text":"<p>Compute a star\u2019s rotation and activity evolution tracks, then (a) plot a quantity, (b) query values at specific ages, and (c) save the result for reuse.</p>"},{"location":"How-to/evolution/#prerequisites","title":"Prerequisites","text":"<p>Make sure the package and stellar evolution data are installed:</p> <pre><code>pip install fwl-mors\nmors download all\n</code></pre> <p>Units: <code>Age</code> is in Myr, <code>Prot</code> is in days, and <code>Omega</code> is in units of the current solar rotation rate (\u03a9\u2609).</p>"},{"location":"How-to/evolution/#step-1-create-a-star","title":"Step 1: Create a <code>Star</code>","text":"<p>Pick one of these common ways:</p> <p>A) Set initial rotation using \u03a9 (at ~1 Myr)</p> <pre><code>import mors\nstar = mors.Star(Mstar=1.0, Omega=10.0)\n</code></pre> <p>B) Set initial rotation using rotation period (days)</p> <pre><code>import mors\nstar = mors.Star(Mstar=1.0, Prot=2.7)\n</code></pre> <p>C) Fit a track through a point (Age, \u03a9)</p> <pre><code>import mors\nstar = mors.Star(Mstar=1.0, Age=100.0, Omega=50.0)\n</code></pre> <p>Use (C) only at ages where rotation tracks have not strongly converged for that mass; otherwise the fit may be ill-posed or fail if the requested rotation rate is unrealistic.</p>"},{"location":"How-to/evolution/#step-2-inspect-available-tracks-and-units","title":"Step 2: Inspect available tracks and units","text":"<pre><code>star.PrintAvailableTracks()\nprint(star.Units['Lx'])\n</code></pre>"},{"location":"How-to/evolution/#step-3-plot-an-evolutionary-track","title":"Step 3: Plot an evolutionary track","text":"<p>Tracks are stored in <code>star.Tracks</code> and also exposed as <code>&lt;Quantity&gt;Track</code> arrays.</p> <pre><code>import matplotlib.pyplot as plt\n\nplt.plot(star.Tracks['Age'], star.Tracks['Lx'])\n# or: plt.plot(star.AgeTrack, star.LxTrack)\nplt.xlabel(f\"Age [{star.Units['Age']}]\")\nplt.ylabel(f\"Lx [{star.Units['Lx']}]\")\nplt.show()\n</code></pre>"},{"location":"How-to/evolution/#step-4-find-a-value-at-a-given-age","title":"Step 4: Find a value at a given age","text":"<pre><code>print(star.Value(150.0, 'Lx'))\n# or:\nprint(star.Value(Age=150.0, Quantity='Lx'))\n# or (preferred when available):\nprint(star.Lx(150.0))\n</code></pre>"},{"location":"How-to/evolution/#step-5-save-and-reload","title":"Step 5: Save and reload","text":"<pre><code>star.Save(filename=\"star.pickle\")\nstar2 = mors.Load(\"star.pickle\")\n</code></pre>"},{"location":"How-to/evolution/#common-pitfalls","title":"Common pitfalls","text":"<ul> <li><code>Age</code> is in Myr (not years).</li> <li><code>Omega</code> is in \u03a9\u2609 (not rad/s).</li> <li>Fitting with <code>Age=...</code> + <code>Omega=...</code> may fail at late ages or for extreme rotation rates.</li> </ul>"},{"location":"How-to/habitablezone/","title":"Find habitable zone boundaries","text":""},{"location":"How-to/habitablezone/#8-find-habitable-zone-boundaries-how-to","title":"8. Find habitable zone boundaries (How-to)","text":""},{"location":"How-to/habitablezone/#goal","title":"Goal","text":"<p>Compute habitable zone (HZ) boundary orbital distances (AU) as a function of stellar mass and age using <code>mors.aOrbHZ</code>.</p>"},{"location":"How-to/habitablezone/#prerequisites","title":"Prerequisites","text":"<p>Install MORS and download stellar evolution data:</p> <pre><code>pip install fwl-mors\nmors download all\n</code></pre> <p>Units: <code>Mstar</code> in M\u2609, <code>Age</code> in Myr, returned distances in AU.</p> <p>Citation note: If you use these HZ boundaries in research, cite Kopparapu et al. (2013) (HZ prescription) and Spada et al. (2013) (stellar parameters used).</p>"},{"location":"How-to/habitablezone/#step-1-compute-hz-boundaries-for-a-single-star-mass","title":"Step 1: Compute HZ boundaries for a single star mass","text":"<p>By default, <code>aOrbHZ</code> uses stellar parameters at 5000 Myr if you don\u2019t specify <code>Age</code>.</p> <pre><code>import mors\n\nhz = mors.aOrbHZ(Mstar=1.0)\n</code></pre> <p>The returned dictionary contains these keys: - <code>RecentVenus</code> - <code>RunawayGreenhouse</code> - <code>MoistGreenhouse</code> - <code>MaximumGreenhouse</code> - <code>EarlyMars</code> - <code>HZ</code></p> <p>Print them:</p> <pre><code>for k in [\"RecentVenus\", \"RunawayGreenhouse\", \"MoistGreenhouse\",\n          \"MaximumGreenhouse\", \"EarlyMars\", \"HZ\"]:\n    print(k, hz[k])\n</code></pre> <p><code>HZ</code> is defined (Johnstone et al. 2020) as the average of the <code>RunawayGreenhouse</code> and <code>MoistGreenhouse</code> orbital distances.</p>"},{"location":"How-to/habitablezone/#step-2-specify-a-stellar-age","title":"Step 2: Specify a stellar age","text":"<pre><code>import mors\nhz_1gyr = mors.aOrbHZ(Mstar=1.0, Age=1000.0)  # Myr\nprint(hz_1gyr[\"HZ\"])\n</code></pre>"},{"location":"How-to/habitablezone/#step-3-compute-hz-boundaries-for-multiple-masses","title":"Step 3: Compute HZ boundaries for multiple masses","text":"<p>If you pass an array of masses, you get arrays back in the dictionary:</p> <pre><code>import numpy as np\nimport mors\n\nmasses = np.array([0.3, 0.5, 0.8, 1.0])\nhz = mors.aOrbHZ(Mstar=masses, Age=5000.0)\n\nprint(hz[\"HZ\"])              # array of AU\nprint(hz[\"RunawayGreenhouse\"])\n</code></pre>"},{"location":"How-to/habitablezone/#common-pitfalls","title":"Common pitfalls","text":"<ul> <li><code>Age</code> is in Myr (not years).</li> <li>When passing arrays for <code>Mstar</code>, each returned dict entry becomes an array of the same length.</li> </ul>"},{"location":"How-to/installation/","title":"Installation","text":""},{"location":"How-to/installation/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python: &gt;3.11 installed</li> <li>pip: available (<code>python -m pip --version</code>)</li> <li>Git: only needed for the developer install (<code>git --version</code>)</li> <li>Internet access: required once to download the stellar evolution tracks</li> <li>(Optional) Conda/Anaconda/Miniconda: only if you want to use a conda environment</li> </ul>"},{"location":"How-to/installation/#0-optional-condavirtual-environment","title":"0. Optional: Conda/virtual environment","text":"<p>Create and activate a Conda environment (requires <code>conda</code> installed): <pre><code>conda create -n mors python=3.11 -y\nconda activate mors\n</code></pre></p> <p>No <code>conda</code>? create and activate a virtual environment (venv): <pre><code>python -m venv .venv\nsource .venv/bin/activate\n</code></pre></p>"},{"location":"How-to/installation/#1-basic-install","title":"1. Basic install","text":"<p>The Forming Worlds Mors package is available on PyPI. Run the following command to install</p> <pre><code>pip install fwl-mors\n</code></pre>"},{"location":"How-to/installation/#2-developer-install","title":"2. Developer install","text":"<p>You can alternatively download the source code from GitHub somewhere on your computer using</p> <pre><code>git clone git@github.com:FormingWorlds/MORS.git\n</code></pre> <p>Then run the following command inside the main directory to install the code (check the pyproject.toml file for dependencies)</p> <pre><code>pip install -e .\n</code></pre>"},{"location":"How-to/installation/#3-stellar-evolution-tracks","title":"3. Stellar evolution tracks","text":"<p>The code requires also a set of stellar evolution data, stored in the OSF repository.</p> <p>You can use <code>mors download all</code> to download the data. This will download and extract package stellar evolution tracks data.</p> <p>By default, MORS stores the data in based on the XDG specification. You can check the location by typing <code>mors env</code> in your terminal. You can override the path using the <code>FWL_DATA</code> environment variable, e.g.</p> <pre><code>export FWL_DATA=...\n</code></pre> <p>Where ... should be replaced with the path to your main data directory. To make this permanent on Ubuntu, use</p> <pre><code>gedit ~/.profile\n</code></pre> <p>and add the export command to the bottom of the file.</p> <p>Alternatively, when creating a star object in your Python script, you can specify the path to a directory where evolution tracks are stored using the starEvoDir keyword</p> <pre><code>import mors\nmyStar = mors.StarEvo(starEvoDir=...)\n</code></pre> <p>where ... can be given as the path relative to the current directory. When this is done, no environmental variable needs to be set.</p>"},{"location":"How-to/set_parameters/","title":"Setting custom simulation parameters","text":""},{"location":"How-to/set_parameters/#setting-custom-simulation-parameters-how-to","title":"Setting custom simulation parameters (How-to)","text":""},{"location":"How-to/set_parameters/#goal","title":"Goal","text":"<p>Create simulation parameters for a <code>Star</code> (or <code>Cluster</code>) run, and optionally restrict the ages saved in output tracks using <code>AgesOut</code>.  This overrides MORS default simulation parameters. </p>"},{"location":"How-to/set_parameters/#prerequisites","title":"Prerequisites","text":"<p>Make sure MORS and stellar evolution data are installed:</p> <pre><code>pip install fwl-mors\nmors download all\n</code></pre>"},{"location":"How-to/set_parameters/#step-1-start-from-the-default-parameter-set","title":"Step 1: Start from the default parameter set","text":"<p>Create a parameter dictionary identical to the internal defaults (<code>paramsDefault</code> in <code>parameters.py</code>):</p> <pre><code>import mors\nparams = mors.NewParams()\n</code></pre> <p>This gives you a normal Python dictionary you can edit.</p>"},{"location":"How-to/set_parameters/#step-2-change-one-or-more-parameters","title":"Step 2: Change one or more parameters","text":"<p>Option A: edit the dictionary after creation <pre><code>import mors\nparams = mors.NewParams()\n\nparams[\"param1\"] = 1.5\nparams[\"param2\"] = 2.5\n</code></pre></p> <p>Option B: set values when calling <code>NewParams</code> (recommended) <pre><code>import mors\nparams = mors.NewParams(param1=1.5, param2=2.5)\n</code></pre></p>"},{"location":"How-to/set_parameters/#step-3-pass-the-parameter-dictionary-into-star-or-cluster","title":"Step 3: Pass the parameter dictionary into <code>Star</code> (or <code>Cluster</code>)","text":"<pre><code>import mors\nstar = mors.Star(Mstar=1.0, Omega=10.0, params=params)\n</code></pre> <p>(Use the same <code>params=</code> keyword when creating a <code>mors.Cluster</code>.)</p>"},{"location":"How-to/set_parameters/#step-4-discover-available-parameters","title":"Step 4: Discover available parameters","text":"<p>To print a complete list of parameters (and their meanings/values as exposed by MORS):</p> <pre><code>import mors\nmors.PrintParams()\n</code></pre> <p>You can also inspect the source file <code>parameters.py</code> in your MORS installation.</p>"},{"location":"How-to/set_parameters/#step-5-restrict-output-ages-with-agesout-optional","title":"Step 5: Restrict output ages with <code>AgesOut</code> (optional)","text":"<p>By default, MORS computes tracks on its internal age grid. If you only need values at specific ages, set <code>AgesOut</code> so the saved tracks contain only those ages plus the starting age (1 Myr).</p> <p>Single age <pre><code>import mors\nstar = mors.Star(Mstar=1.0, Omega=10.0, AgesOut=100.0)  # Myr\n</code></pre></p> <p>Multiple ages <pre><code>import numpy as np\nimport mors\n\nages = np.array([100.0, 200.0, 300.0, 400.0])  # Myr (ascending)\nstar = mors.Star(Mstar=1.0, Omega=10.0, AgesOut=ages)\n</code></pre></p> <p>Notes: - The simulation ends at the largest age in <code>AgesOut</code>. - Provide <code>AgesOut</code> in ascending order. - If you later call interpolating helpers like <code>star.Lx(Age)</code> at arbitrary ages, results can be inaccurate if <code>AgesOut</code> is too sparse. - Very large <code>AgesOut</code> grids can slow down calculations significantly.</p>"},{"location":"How-to/set_parameters/#common-pitfalls","title":"Common pitfalls","text":"<ul> <li><code>AgesOut</code> is in Myr.</li> <li>If you intend to query many arbitrary ages later, prefer the default age grid (don\u2019t over-thin <code>AgesOut</code>).</li> </ul>"},{"location":"How-to/track_quantities/","title":"Find stellar quantities with stellar evolution tracks","text":""},{"location":"How-to/track_quantities/#find-stellar-quantities-using-evolution-tracks-how-to","title":"Find stellar quantities using evolution tracks (How-to)","text":""},{"location":"How-to/track_quantities/#goal","title":"Goal","text":"<p>Find basic stellar evolution properties (radius, luminosity, convective turnover time, moments of inertia, etc.) as a function of stellar mass and age, using the Spada et al. (2013) tracks bundled with MORS. Optionally, stellar evolution quantities according to the Baraffe model (Baraffe et al., 2002) can be found.</p>"},{"location":"How-to/track_quantities/#prerequisites","title":"Prerequisites","text":"<p>Install MORS and download the required data:</p> <pre><code>pip install fwl-mors\nmors download all\n</code></pre> <p>Units: <code>Mstar</code> in M\u2609, <code>Age</code> in Myr. Output units depend on the quantity (listed below).</p>"},{"location":"How-to/track_quantities/#spada-tracks","title":"Spada tracks","text":""},{"location":"How-to/track_quantities/#available-quantities","title":"Available quantities","text":"<ul> <li><code>Rstar</code> \u2014 radius (R\u2609)</li> <li><code>Lbol</code> \u2014 bolometric luminosity (L\u2609)</li> <li><code>Teff</code> \u2014 effective temperature (K)</li> <li><code>Itotal</code> \u2014 total moment of inertia (g cm\u00b2)</li> <li><code>Icore</code> \u2014 core moment of inertia (g cm\u00b2)</li> <li><code>Ienv</code> \u2014 envelope moment of inertia (g cm\u00b2)</li> <li><code>Mcore</code> \u2014 core mass (M\u2609)</li> <li><code>Menv</code> \u2014 envelope mass (M\u2609)</li> <li><code>Rcore</code> \u2014 core radius (R\u2609)</li> <li><code>tau</code> \u2014 convective turnover time (days)</li> <li><code>dItotaldt</code> \u2014 d(Itotal)/dt (g cm\u00b2 Myr\u207b\u00b9)</li> <li><code>dIcoredt</code> \u2014 d(Icore)/dt (g cm\u00b2 Myr\u207b\u00b9)</li> <li><code>dIenvdt</code> \u2014 d(Ienv)/dt (g cm\u00b2 Myr\u207b\u00b9)</li> <li><code>dMcoredt</code> \u2014 d(Mcore)/dt (M\u2609 Myr\u207b\u00b9)</li> <li><code>dRcoredt</code> \u2014 d(Rcore)/dt (R\u2609 Myr\u207b\u00b9)</li> </ul> <p>Important definition note: \u201ccore\u201d and \u201cenvelope\u201d here follow the rotation model definitions: - core = everything interior to the outer convective zone - envelope = the outer convective zone</p>"},{"location":"How-to/track_quantities/#option-1-call-a-property-function-directly","title":"Option 1: Call a property function directly","text":"<p>Each quantity has a dedicated function. For example, stellar radius:</p> <pre><code>import mors\nRstar = mors.Rstar(1.0, 1000.0)  # Rsun\nprint(Rstar)\n</code></pre>"},{"location":"How-to/track_quantities/#option-2-use-the-generic-accessor-value","title":"Option 2: Use the generic accessor (<code>Value</code>)","text":"<p>If you want to choose the quantity by name at runtime:</p> <pre><code>import mors\nRstar = mors.Value(1.0, 1000.0, \"Rstar\")\nprint(Rstar)\n</code></pre>"},{"location":"How-to/track_quantities/#option-3-vectorized-inputs-arrayslists","title":"Option 3: Vectorized inputs (arrays/lists)","text":"<p>These functions accept lists or NumPy arrays for mass and/or age.</p> <p>Multiple masses, one age \u2192 1D array <pre><code>import numpy as np\nimport mors\n\nmasses = np.array([0.8, 1.0, 1.2])\nR = mors.Rstar(masses, 1000.0)\nprint(R.shape)  # (3,)\n</code></pre></p> <p>One mass, multiple ages \u2192 1D array <pre><code>import numpy as np\nimport mors\n\nages = np.array([10.0, 100.0, 1000.0])\nL = mors.Lbol(1.0, ages)\nprint(L.shape)  # (3,)\n</code></pre></p> <p>Multiple masses and multiple ages \u2192 2D array <pre><code>import numpy as np\nimport mors\n\nmasses = np.array([0.8, 1.0, 1.2])\nages   = np.array([10.0, 100.0, 1000.0])\nT = mors.Teff(masses, ages)\nprint(T.shape)  # (len(masses), len(ages))\n</code></pre></p> <p>Multiple quantities via <code>Value</code> <pre><code>import numpy as np\nimport mors\n\nmasses = np.array([0.9, 1.0])\nages   = np.array([100.0, 1000.0])\nvals = mors.Value(masses, ages, [\"Rstar\", \"Lbol\", \"tau\"])\n# adds an extra dimension for the quantity list\nprint(vals.shape)\n</code></pre></p>"},{"location":"How-to/track_quantities/#performance-tip-pre-load-a-mass-track-loadtrack","title":"Performance tip: pre-load a mass track (<code>LoadTrack</code>)","text":"<p>The first time you call one of these functions, MORS loads and caches Spada tracks and writes a cache file (e.g., <code>SEmodels.pickle</code>) to speed up future runs. This cache can be deleted safely; it will be regenerated as needed.</p> <p>If you will query many ages for a particular mass, pre-load that mass track:</p> <pre><code>import mors\nmors.LoadTrack(1.02)\n</code></pre> <p>If it\u2019s already loaded, this call does nothing.</p>"},{"location":"How-to/track_quantities/#baraffe-tracks","title":"Baraffe tracks","text":"<p>MORS also provides access to Baraffe et al. (2002) tracks, which use different units than the Spada helpers above.</p> <p>Baraffe units: <code>Mstar</code> in M\u2609 (valid range: ~0.01\u20131.4), <code>time</code> in years (yr).</p>"},{"location":"How-to/track_quantities/#step-1-load-a-baraffe-track-with-interpolation","title":"Step 1. Load a Baraffe track (with interpolation)","text":"<pre><code>import mors\n\nMstar = 0.5\nbaraffe = mors.BaraffeTrack(Mstar)\n</code></pre> <p><code>BaraffeTrack</code> performs mass interpolation (if needed) and interpolates time onto a fine grid.</p>"},{"location":"How-to/track_quantities/#step-2-query-radius-luminosity-and-solar-constant","title":"Step 2. Query radius, luminosity, and \u201csolar constant\u201d","text":"<pre><code>time_yr = 1e7  # years\n\nRstar = baraffe.BaraffeStellarRadius(time_yr)          # Rsun\nLbol  = baraffe.BaraffeLuminosity(time_yr)             # Lsun\nFlux  = baraffe.BaraffeSolarConstant(time_yr, 1.0)     # W m^-2 at 1 AU\n</code></pre> <p><code>BaraffeSolarConstant(time, distance)</code> expects <code>distance</code> in AU.</p>"},{"location":"How-to/track_quantities/#common-pitfalls","title":"Common pitfalls","text":"<ul> <li>Spada helpers use <code>Age</code> in Myr; Baraffe helpers use <code>time</code> in yr.</li> <li>\u201ccore\u201d and \u201cenvelope\u201d are defined by the rotation model (not the hydrogen-burning core definition).</li> <li>The first Spada call can be slower due to model loading + cache generation.</li> </ul>"},{"location":"Tutorials/","title":"Tutorials","text":"<p>Welcome to the tutorials for MORS. So far, there is only one available \u2013 but more to come!</p> <ol> <li>First run</li> </ol>"},{"location":"Tutorials/first_run/","title":"Tutorial: First run","text":""},{"location":"Tutorials/first_run/#what-youll-do","title":"What you\u2019ll do","text":"<p>By the end of this tutorial you will:</p> <ol> <li>Install MORS and download the required data</li> <li>Create a <code>Star</code> and compute evolutionary tracks</li> <li>Inspect available tracks + units</li> <li>Plot one track</li> <li>Find stellar values at specific ages</li> <li>Save and reload the result</li> </ol> <p>Time/units cheat sheet: <code>Mstar</code> in M\u2609, <code>Age</code> in Myr, <code>Prot</code> in days, <code>Omega</code> in \u03a9\u2609.</p>"},{"location":"Tutorials/first_run/#0-prerequisites","title":"0) Prerequisites","text":"<p>You need:</p> <ul> <li>Python 3 environment with <code>pip</code></li> <li>A working internet connection (for downloading data once)</li> </ul> <p>Optional: Create and activate a Conda environment (requires <code>conda</code> installed): <pre><code>conda create -n mors python=3.11 -y\nconda activate mors\n</code></pre></p> <p>No <code>conda</code>? create and activate a virtual environment (venv): <pre><code>python -m venv .venv\nsource .venv/bin/activate\n</code></pre></p>"},{"location":"Tutorials/first_run/#1-install-mors","title":"1) Install MORS","text":"<pre><code>pip install fwl-mors\n</code></pre> <p>Quick sanity check: <pre><code>python -c \"import mors; print('mors imported:', mors.__version__ if hasattr(mors,'__version__') else 'ok')\"\n</code></pre></p>"},{"location":"Tutorials/first_run/#2-download-stellar-evolution-data","title":"2) Download stellar evolution data","text":"<p>MORS requires stellar evolution tracks (downloaded once): <pre><code>mors download all\n</code></pre></p> <p>See where data are stored: <pre><code>mors env\n</code></pre></p> <p>If you want to place data somewhere else, set <code>FWL_DATA</code> (optional): <pre><code>export FWL_DATA=/path/to/your/data\n</code></pre></p>"},{"location":"Tutorials/first_run/#3-create-your-first-star","title":"3) Create your first star","text":"<p>Create a 1 M\u2609 star with an initial rotation period of 2.7 days (at ~1 Myr): <pre><code>import mors\nstar = mors.Star(Mstar=1.0, Prot=2.7)\n</code></pre></p> <p>Alternative: specify initial rotation as \u03a9/\u03a9\u2609: <pre><code>star = mors.Star(Mstar=1.0, Omega=10.0)\n</code></pre></p>"},{"location":"Tutorials/first_run/#4-inspect-what-tracks-exist","title":"4) Inspect what tracks exist","text":"<p>Print track names and units: <pre><code>star.PrintAvailableTracks()\nprint(\"Lx units:\", star.Units.get(\"Lx\"))\n</code></pre></p> <p>You can access arrays either via the <code>Tracks</code> dict: <pre><code>age = star.Tracks[\"Age\"]\nlx  = star.Tracks[\"Lx\"]\n</code></pre> or via convenience attributes: <pre><code>age = star.AgeTrack\nlx  = star.LxTrack\n</code></pre></p>"},{"location":"Tutorials/first_run/#5-plot-a-track","title":"5) Plot a track","text":"<pre><code>import matplotlib.pyplot as plt\n\nplt.plot(star.AgeTrack, star.LxTrack)\nplt.xlabel(f\"Age [{star.Units['Age']}]\")\nplt.ylabel(f\"Lx [{star.Units['Lx']}]\")\nplt.show()\n</code></pre> <p>If you see a plot and no errors, your installation + data are working.</p>"},{"location":"Tutorials/first_run/#6-find-stellar-values-at-specific-ages","title":"6) Find stellar values at specific ages","text":"<p>Use the generic accessor: <pre><code>print(star.Value(Age=150.0, Quantity=\"Lx\"))\n</code></pre></p> <p>Or a convenience method (when available): <pre><code>print(star.Lx(150.0))\n</code></pre></p>"},{"location":"Tutorials/first_run/#7-optional-try-percentiles-slowmediumfast-rotators","title":"7) (Optional) Try percentiles: slow/medium/fast rotators","text":"<p>This uses the built-in model distribution: <pre><code>slow   = mors.Star(Mstar=1.0, percentile=\"slow\")    # 5th percentile\nmedium = mors.Star(Mstar=1.0, percentile=\"medium\")  # 50th percentile\nfast   = mors.Star(Mstar=1.0, percentile=\"fast\")    # 95th percentile\n\nprint(\"slow percentile:\", slow.percentile)\nprint(\"fast percentile:\", fast.percentile)\n</code></pre></p>"},{"location":"Tutorials/first_run/#8-save-and-reload-recommended","title":"8) Save and reload (recommended)","text":"<p>Save: <pre><code>star.Save(filename=\"star.pickle\")\n</code></pre></p> <p>Reload later: <pre><code>import mors\nstar2 = mors.Load(\"star.pickle\")\nprint(star2.Lx(150.0))\n</code></pre></p>"}]}